{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\C#\\\\blackjack_WebAPI - new\\\\front-end\\\\src\\\\containers\\\\PlayTable\\\\PlayTable.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport classes from './PlayTable.css';\nimport Dibs from '../../components/Dibs/Dibs';\nimport DibsBet from '../../components/Dibs/DibsBet';\nimport Rate from '../../components/Rate/Rate';\nimport Enemy from '../../components/Enemy/Enemy';\nimport PlayButton from '../../components/UI/PlayButton/PlayButton';\nimport BetButton from '../../components/UI/BetButton/BetButton';\nimport Button from '../../components/UI/Button/Button';\nimport Timer from '../../components/UI/Timer/Timer';\nimport EnemyHand from '../../components/EnemyHand/EnemyHand';\nimport PlayerHand from '../../components/PlayerHand/PlayerHand';\nimport { fetchMakeBet as _fetchMakeBet, onPlayHandler as _onPlayHandler, onEnoughHandler as _onEnoughHandler, onMoreHandler as _onMoreHandler, getDataUser as _getDataUser, onPlayWithUserHandler as _onPlayWithUserHandler, onMoreWithUserHandler as _onMoreWithUserHandler, onEnoughWithUserHandler as _onEnoughWithUserHandler, setActivePlayer as _setActivePlayer, userDibsBet as _userDibsBet } from '../../store/actions/playTable';\nimport Chat from '../../components/UI/Chat/Chat';\nimport PlayConnection, { connection, playHubProxy } from '../../Hubs/PlayTableHub';\nvar userId, enemyId;\n\nvar PlayTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlayTable, _Component);\n\n  function PlayTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PlayTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PlayTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isLogout: false,\n      betCount: 3,\n      isFold: false,\n      isCheck: false,\n      isRaise: false,\n      isBet: true,\n      firstBet: true\n    };\n\n    _this.isLogout = function () {\n      localStorage.removeItem('userId');\n\n      _this.setState({\n        isLogout: true\n      });\n\n      connection.stop();\n      console.log('stop');\n    };\n\n    _this.onCreateDibHandler =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(value) {\n        var bet, cash, enableBet, tmpValue;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                bet = _this.props.bet + parseInt(value);\n                cash = _this.props.cash - parseInt(value);\n                enableBet = _this.props.id === _this.props.activePlayerId;\n\n                if (!(bet !== 0 && cash >= 0 && _this.props.playerHandSum === 0 && enableBet && bet <= _this.props.enemyCash + _this.props.enemyBet || localStorage.getItem('enemyId') === '-1' && bet !== 0 && cash >= 0 && _this.props.playerHandSum === 0)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                if (bet > _this.props.enemyBet && _this.state.betCount > 0) {\n                  _this.setState({\n                    isCheck: false,\n                    isRaise: true\n                  });\n                } else {\n                  _this.setState({\n                    isCheck: true,\n                    isRaise: false\n                  });\n                }\n\n                tmpValue = value;\n\n                while (tmpValue !== 0) {\n                  if (tmpValue >= 200) {\n                    _this.props.userDibsBet(200);\n\n                    tmpValue -= 200;\n                  } else if (tmpValue >= 100) {\n                    _this.props.userDibsBet(100);\n\n                    tmpValue -= 100;\n                  } else if (tmpValue >= 50) {\n                    _this.props.userDibsBet(50);\n\n                    tmpValue -= 50;\n                  } else if (tmpValue >= 25) {\n                    _this.props.userDibsBet(25);\n\n                    tmpValue -= 25;\n                  } else if (tmpValue >= 5) {\n                    _this.props.userDibsBet(5);\n\n                    tmpValue -= 5;\n                  } else if (tmpValue >= 1) {\n                    _this.props.userDibsBet(1);\n\n                    tmpValue -= 1;\n                  }\n                }\n\n                _context.next = 9;\n                return _this.props.fetchMakeBet(bet, cash, true);\n\n              case 9:\n                if (localStorage.getItem('enemyId') !== '-1') {\n                  console.log(_this.props.dibsBet);\n                  playHubProxy.invoke('userBet', cash, bet, _this.props.dibsBet);\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onSend = function (value) {\n      playHubProxy.invoke('gameChat', userId, value);\n    };\n\n    _this.playOffer = function () {\n      _this.props.setActivePlayer(enemyId);\n\n      playHubProxy.invoke('playOffer', userId);\n    };\n\n    _this.onFold = function () {\n      console.log('fold');\n    };\n\n    _this.onCheck = function () {\n      var difference = _this.props.enemyBet - _this.props.bet;\n\n      _this.onCreateDibHandler(difference);\n\n      _this.setState({\n        isBet: false,\n        firstBet: false\n      });\n\n      _this.playOffer();\n\n      _this.props.onPlayWithUserHandler();\n    };\n\n    _this.onRaise = function () {\n      _this.setState({\n        enableBet: false,\n        isFold: false,\n        isCheck: false,\n        isRaise: false,\n        betCount: _this.state.betCount - 1\n      });\n\n      _this.playOffer();\n    };\n\n    _this.onMore = function () {\n      console.log('more');\n\n      _this.props.onMoreWithUserHandler();\n    };\n\n    _this.onEnough = function () {\n      console.log('enough');\n\n      _this.props.onEnoughWithUserHandler();\n\n      _this.setState({\n        enableBet: false\n      });\n\n      _this.playOffer();\n    };\n\n    _this.endGame = function () {\n      if (enemyId !== -1) {\n        playHubProxy.invoke('stopGame', userId);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(PlayTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      userId = parseInt(localStorage.getItem('userId'));\n      enemyId = parseInt(localStorage.getItem('enemyId'));\n      console.log('user = ' + userId + ' enemy = ' + enemyId);\n\n      if (userId == null) {\n        this.setState({\n          isLogout: true\n        });\n      } else {\n        this.setState({\n          isLogout: false\n        });\n      }\n\n      this.props.getDataUser(userId);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isLogout) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        });\n      }\n\n      var enableBet = this.props.id === this.props.activePlayerId;\n      return React.createElement(\"div\", {\n        className: classes.PlayTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, this.state.s), React.createElement(\"div\", {\n        className: classes.Container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(PlayConnection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), React.createElement(Rate, {\n        bet: this.props.bet,\n        cash: this.props.cash,\n        name: this.props.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), enemyId !== -1 ? React.createElement(Enemy, {\n        bet: this.props.enemyBet,\n        cash: this.props.enemyCash,\n        name: this.props.enemyName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }) : null, React.createElement(EnemyHand, {\n        enemyHand: this.props.enemyHand,\n        enemyHandSum: this.props.enemyHandSum,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(DibsBet, {\n        userDibsBet: this.props.dibsBet,\n        enemyDibsBet: this.props.enemyDibsBet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(Timer, {\n        enableBet: enableBet,\n        time: this.props.time,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(PlayerHand, {\n        playerHand: this.props.playerHand,\n        playerHandSum: this.props.playerHandSum,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(Dibs, {\n        dibs: this.props.dibs,\n        onDibCLick: this.onCreateDibHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), this.state.isBet && enemyId !== -1 ? React.createElement(BetButton, {\n        onFold: this.onFold,\n        onCheck: this.onCheck,\n        onRaise: this.onRaise,\n        disabledFold: !this.state.isFold,\n        disabledCheck: !this.state.isCheck,\n        disabledRaise: !this.state.isRaise,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }) : enemyId !== -1 ? React.createElement(PlayButton, {\n        onEnough: this.onEnough,\n        onMore: this.onMore,\n        disabledEnough: !enableBet,\n        disabledMore: !enableBet\n        /*disabledEnough={!this.props.isEnough}\n        disabledMore={!this.props.isMore}*/\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }) : React.createElement(PlayButton, {\n        onPlay: this.props.onPlayHandler,\n        onEnough: this.props.onEnoughHandler,\n        onMore: this.props.onMoreHandler,\n        disabledPlay: !this.props.isPlay,\n        disabledEnough: !this.props.isEnough,\n        disabledMore: !this.props.isMore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), enemyId !== -1 ? React.createElement(Chat, {\n        UserName: this.props.name,\n        Messages: this.props.messages,\n        onSend: this.onSend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        className: classes.Button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"success\",\n        onClick: this.endGame,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\")), React.createElement(Button, {\n        type: \"error\",\n        onClick: this.isLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"))));\n    }\n  }]);\n\n  return PlayTable;\n}(Component);\n\nfunction mapStateToProps(state) {\n  var dibs = state.playTable.dibs;\n  var _state$playTable$user = state.playTable.user,\n      bet = _state$playTable$user.bet,\n      cash = _state$playTable$user.cash,\n      name = _state$playTable$user.name,\n      time = _state$playTable$user.time,\n      playerHand = _state$playTable$user.playerHand,\n      playerHandSum = _state$playTable$user.playerHandSum,\n      dibsBet = _state$playTable$user.dibsBet,\n      enemyDibsBet = _state$playTable$user.enemyDibsBet,\n      enemyName = _state$playTable$user.enemyName,\n      enemyBet = _state$playTable$user.enemyBet,\n      enemyCash = _state$playTable$user.enemyCash,\n      enemyHand = _state$playTable$user.enemyHand,\n      enemyHandSum = _state$playTable$user.enemyHandSum,\n      messages = _state$playTable$user.messages,\n      isPlay = _state$playTable$user.isPlay,\n      isEnough = _state$playTable$user.isEnough,\n      isMore = _state$playTable$user.isMore,\n      activePlayerId = _state$playTable$user.activePlayerId,\n      id = _state$playTable$user.id,\n      backProfile = _state$playTable$user.backProfile,\n      isExit = _state$playTable$user.isExit;\n  return {\n    dibs: dibs,\n    bet: bet,\n    cash: cash,\n    name: name,\n    time: time,\n    playerHand: playerHand,\n    playerHandSum: playerHandSum,\n    dibsBet: dibsBet,\n    enemyDibsBet: enemyDibsBet,\n    enemyName: enemyName,\n    enemyBet: enemyBet,\n    enemyCash: enemyCash,\n    enemyHand: enemyHand,\n    enemyHandSum: enemyHandSum,\n    messages: messages,\n    isPlay: isPlay,\n    isEnough: isEnough,\n    isMore: isMore,\n    activePlayerId: activePlayerId,\n    id: id,\n    backProfile: backProfile,\n    isExit: isExit\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchMakeBet: function fetchMakeBet(bet, cash, isPlay) {\n      return dispatch(_fetchMakeBet(bet, cash, isPlay));\n    },\n    userDibsBet: function userDibsBet(bet) {\n      return dispatch(_userDibsBet(bet));\n    },\n    getDataUser: function getDataUser(userId) {\n      return dispatch(_getDataUser(userId));\n    },\n    setActivePlayer: function setActivePlayer(id) {\n      return dispatch(_setActivePlayer(id));\n    },\n    onPlayHandler: function onPlayHandler() {\n      return dispatch(_onPlayHandler());\n    },\n    onEnoughHandler: function onEnoughHandler() {\n      return dispatch(_onEnoughHandler());\n    },\n    onMoreHandler: function onMoreHandler() {\n      return dispatch(_onMoreHandler());\n    },\n    onPlayWithUserHandler: function onPlayWithUserHandler() {\n      return dispatch(_onPlayWithUserHandler());\n    },\n    onMoreWithUserHandler: function onMoreWithUserHandler() {\n      return dispatch(_onMoreWithUserHandler());\n    },\n    onEnoughWithUserHandler: function onEnoughWithUserHandler() {\n      return dispatch(_onEnoughWithUserHandler());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayTable);","map":{"version":3,"sources":["D:\\C#\\blackjack_WebAPI - new\\front-end\\src\\containers\\PlayTable\\PlayTable.js"],"names":["React","Component","connect","NavLink","Redirect","classes","Dibs","DibsBet","Rate","Enemy","PlayButton","BetButton","Button","Timer","EnemyHand","PlayerHand","fetchMakeBet","onPlayHandler","onEnoughHandler","onMoreHandler","getDataUser","onPlayWithUserHandler","onMoreWithUserHandler","onEnoughWithUserHandler","setActivePlayer","userDibsBet","Chat","PlayConnection","connection","playHubProxy","userId","enemyId","PlayTable","state","isLogout","betCount","isFold","isCheck","isRaise","isBet","firstBet","localStorage","removeItem","setState","stop","console","log","onCreateDibHandler","value","bet","props","parseInt","cash","enableBet","id","activePlayerId","playerHandSum","enemyCash","enemyBet","getItem","tmpValue","dibsBet","invoke","onSend","playOffer","onFold","onCheck","difference","onRaise","onMore","onEnough","endGame","s","Container","name","enemyName","enemyHand","enemyHandSum","enemyDibsBet","time","playerHand","dibs","isPlay","isEnough","isMore","messages","mapStateToProps","playTable","user","backProfile","isExit","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {NavLink, Redirect} from 'react-router-dom'\nimport classes from './PlayTable.css'\nimport Dibs from '../../components/Dibs/Dibs'\nimport DibsBet from '../../components/Dibs/DibsBet'\nimport Rate from '../../components/Rate/Rate'\nimport Enemy from '../../components/Enemy/Enemy'\nimport PlayButton from '../../components/UI/PlayButton/PlayButton'\nimport BetButton from '../../components/UI/BetButton/BetButton'\nimport Button from '../../components/UI/Button/Button'\nimport Timer from '../../components/UI/Timer/Timer'\nimport EnemyHand from '../../components/EnemyHand/EnemyHand'\nimport PlayerHand from '../../components/PlayerHand/PlayerHand'\nimport {fetchMakeBet, \n        onPlayHandler,\n        onEnoughHandler,\n        onMoreHandler,\n        getDataUser,\n        onPlayWithUserHandler,\n        onMoreWithUserHandler,\n        onEnoughWithUserHandler,\n        setActivePlayer,\n        userDibsBet} from '../../store/actions/playTable'\n\nimport Chat from '../../components/UI/Chat/Chat'\nimport PlayConnection, {connection, playHubProxy} from '../../Hubs/PlayTableHub'\n\nvar userId, enemyId;\n\nclass PlayTable extends Component {\n    state = {\n        isLogout: false,\n        betCount: 3,\n        isFold: false,\n        isCheck: false,\n        isRaise: false,\n        isBet: true,\n        firstBet: true\n    }\n\n    isLogout = () => {\n        localStorage.removeItem('userId');\n        this.setState({\n            isLogout: true\n        });\n        connection.stop();\n        console.log('stop');\n    }\n    \n    onCreateDibHandler = async value =>{\n        let bet;\n        let cash;\n        bet = (this.props.bet) + parseInt(value);\n        cash = (this.props.cash) - parseInt(value);\n        let enableBet = this.props.id === this.props.activePlayerId;\n        if(bet !== 0 && cash >= 0 && this.props.playerHandSum === 0 && enableBet && bet <= this.props.enemyCash + this.props.enemyBet || \n            localStorage.getItem('enemyId') === '-1' && bet !== 0 && cash >= 0 && this.props.playerHandSum === 0){\n            if(bet > this.props.enemyBet && this.state.betCount > 0){\n                this.setState({\n                    isCheck: false,\n                    isRaise: true\n                });\n            } else{\n                this.setState({\n                    isCheck: true,\n                    isRaise: false\n                });\n            }\n            let tmpValue = value;\n            while(tmpValue !== 0){\n                if(tmpValue >= 200){\n                    this.props.userDibsBet(200);\n                    tmpValue -= 200;\n                } else if(tmpValue >= 100){\n                    this.props.userDibsBet(100);\n                    tmpValue -= 100;\n                } else if(tmpValue >= 50){\n                    this.props.userDibsBet(50);\n                    tmpValue -= 50;\n                } else if(tmpValue >= 25){\n                    this.props.userDibsBet(25);\n                    tmpValue -= 25;\n                } else if(tmpValue >= 5){\n                    this.props.userDibsBet(5);\n                    tmpValue -= 5;\n                } else if(tmpValue >= 1){\n                    this.props.userDibsBet(1);\n                    tmpValue -= 1;\n                }\n            }\n            await this.props.fetchMakeBet(bet, cash, true);\n            \n            if(localStorage.getItem('enemyId') !== '-1'){\n                console.log(this.props.dibsBet);\n                playHubProxy.invoke('userBet', cash, bet, this.props.dibsBet);\n            }\n        }        \n    }\n\n    componentDidMount(){\n        userId = parseInt(localStorage.getItem('userId'));\n        enemyId = parseInt(localStorage.getItem('enemyId'));\n\n        console.log('user = ' + userId + ' enemy = ' + enemyId);\n\n        if(userId == null){\n            this.setState({\n                isLogout: true\n            });\n        } else {\n            this.setState({\n                isLogout: false\n            });\n        }\n\n        this.props.getDataUser(userId);\n    }\n\n    componentWillUnmount(){\n    }\n\n    onSend = (value) =>{\n        playHubProxy.invoke('gameChat', userId, value);\n    }\n\n    playOffer = () =>{\n        this.props.setActivePlayer(enemyId);\n        playHubProxy.invoke('playOffer', userId);\n    }\n\n    onFold = () =>{\n        console.log('fold');\n    }\n\n    onCheck = () =>{\n        var difference = this.props.enemyBet - this.props.bet;\n        this.onCreateDibHandler(difference);\n        this.setState({\n            isBet: false,\n            firstBet: false\n        });\n        this.playOffer();\n        this.props.onPlayWithUserHandler();\n    }\n\n    onRaise = () =>{\n        this.setState({\n            enableBet: false,\n            isFold: false,\n            isCheck: false,\n            isRaise: false,\n            betCount: this.state.betCount - 1\n        });\n        this.playOffer();\n    }\n\n    onMore = () =>{\n        console.log('more');\n        this.props.onMoreWithUserHandler();\n    }\n\n    onEnough = () =>{\n        console.log('enough');\n        this.props.onEnoughWithUserHandler();\n        this.setState({\n            enableBet: false\n        });\n        this.playOffer();\n    }\n\n    endGame = () =>{\n        if(enemyId !== -1){\n            playHubProxy.invoke('stopGame', userId);\n        }\n    }\n\n    render(){\n        if(this.state.isLogout){\n            return (<Redirect to='/' />)\n        }\n        let enableBet = this.props.id === this.props.activePlayerId;\n        return(\n            <div className={classes.PlayTable}>\n            <h1>{this.state.s}</h1>\n            <div className={classes.Container}>\n                <PlayConnection/>\n                <Rate\n                    bet={this.props.bet}\n                    cash={this.props.cash}\n                    name={this.props.name}\n                />\n                {enemyId !== -1 ?\n                    <Enemy \n                        bet={this.props.enemyBet}\n                        cash={this.props.enemyCash}\n                        name={this.props.enemyName}\n                    /> : null\n                }\n                <EnemyHand \n                    enemyHand={this.props.enemyHand}\n                    enemyHandSum={this.props.enemyHandSum}\n                />\n\n                <DibsBet\n                    userDibsBet={this.props.dibsBet}\n                    enemyDibsBet={this.props.enemyDibsBet}\n                />\n\n                <Timer\n                    enableBet={enableBet}\n                    time={this.props.time}\n                />\n                <PlayerHand \n                    playerHand={this.props.playerHand}\n                    playerHandSum={this.props.playerHandSum}\n                />\n                <Dibs \n                    dibs={this.props.dibs}\n                    onDibCLick={this.onCreateDibHandler}\n                />\n                {this.state.isBet && enemyId !== -1 ?\n                    <BetButton \n                        onFold={this.onFold}\n                        onCheck={this.onCheck}\n                        onRaise={this.onRaise}\n                        disabledFold={!this.state.isFold}\n                        disabledCheck={!this.state.isCheck}\n                        disabledRaise={!this.state.isRaise}\n                    /> :\n                    enemyId !== -1 ?\n                    <PlayButton\n                        onEnough={this.onEnough}\n                        onMore={this.onMore}\n                        disabledEnough={!enableBet}\n                        disabledMore={!enableBet}\n                        /*disabledEnough={!this.props.isEnough}\n                        disabledMore={!this.props.isMore}*/\n                    /> :\n                    <PlayButton\n                        onPlay={this.props.onPlayHandler}\n                        onEnough={this.props.onEnoughHandler}\n                        onMore={this.props.onMoreHandler}\n                        disabledPlay={!this.props.isPlay}\n                        disabledEnough={!this.props.isEnough}\n                        disabledMore={!this.props.isMore}\n                    />\n                }\n\n                {enemyId !== -1 ?\n                    <Chat\n                        UserName={this.props.name}\n                        Messages={this.props.messages}\n                        onSend={this.onSend}\n                    />: null\n                }\n                <div className={classes.Button}>\n                    <NavLink to=\"/profile\">\n                        <Button \n                            type=\"success\" \n                            onClick={this.endGame}\n                        >Профиль</Button>\n                    </NavLink>         \n                    <Button \n                        type=\"error\"\n                        onClick={this.isLogout}\n                    >Выход</Button>\n                </div>                   \n            </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    const { dibs } = state.playTable;\n    const { bet, cash, name, time,\n        playerHand, playerHandSum,\n        dibsBet, enemyDibsBet,\n        enemyName, enemyBet,\n        enemyCash, enemyHand, \n        enemyHandSum, messages, \n        isPlay, isEnough, isMore,\n        activePlayerId, id,\n        backProfile, isExit } = state.playTable.user;\n    return{\n        dibs, bet, cash, name, time,\n        playerHand, playerHandSum,\n        dibsBet, enemyDibsBet,\n        enemyName, enemyBet,\n        enemyCash, enemyHand,\n        enemyHandSum, messages,\n        isPlay, isEnough, isMore,\n        activePlayerId, id,\n        backProfile, isExit\n    };\n}\n\nfunction mapDispatchToProps(dispatch){\n    return{\n        fetchMakeBet: (bet, cash, isPlay) => dispatch(fetchMakeBet(bet, cash, isPlay)),\n        userDibsBet: (bet) => dispatch(userDibsBet(bet)),\n        getDataUser: userId => dispatch(getDataUser(userId)),\n        setActivePlayer: (id) => dispatch(setActivePlayer(id)),\n        onPlayHandler: () => dispatch(onPlayHandler()),\n        onEnoughHandler: () => dispatch(onEnoughHandler()),\n        onMoreHandler: () => dispatch(onMoreHandler()),\n        onPlayWithUserHandler: () => dispatch(onPlayWithUserHandler()),\n        onMoreWithUserHandler: () => dispatch(onMoreWithUserHandler()),\n        onEnoughWithUserHandler: () => dispatch(onEnoughWithUserHandler())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayTable)"]},"metadata":{},"sourceType":"module"}