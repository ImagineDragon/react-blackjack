{"ast":null,"code":"import _objectSpread from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { FETCH_PLAY_START, FETCH_MAKE_BET, HAND_SUCCESS, WIN_GAME, LOSE_GAME, DRAW_GAME, DEAL_HAND, PLAY_HAND, DATA_USER } from './actionType'; // import socketIOClient from \"socket.io-client\"\n\nimport axios from 'axios';\nexport function fetchMakeBet(bet, cash, isPlay) {\n  return {\n    type: FETCH_MAKE_BET,\n    bet: bet,\n    cash: cash,\n    isPlay: isPlay\n  };\n}\nexport function getDataUser(userId) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var data, respons, isPlay, setStateUser;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  userId: userId\n                };\n\n                if (!(localStorage.getItem('cash') == null)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return axios.post('http://localhost:3001/play', data);\n\n              case 4:\n                respons = _context.sent;\n\n                if (respons.data) {\n                  localStorage.setItem('cash', respons.data.bet);\n                  localStorage.setItem('bet', 0);\n                  localStorage.setItem('name', respons.data.name);\n                }\n\n              case 6:\n                isPlay = parseInt(localStorage.getItem('bet')) > 0;\n\n                if (localStorage.getItem('playerHand') == null) {\n                  localStorage.setItem('playerHand', '{}');\n                  localStorage.setItem('dealerHand', '{}');\n                  localStorage.setItem('playerHandSum', 0);\n                  localStorage.setItem('dealerHandSum', 0);\n                }\n\n                console.log(localStorage.getItem('playerHand'));\n                setStateUser = {\n                  playerHand: JSON.parse(localStorage.getItem('playerHand')),\n                  dealerHand: JSON.parse(localStorage.getItem('dealerHand')),\n                  playerHandSum: localStorage.getItem('playerHandSum'),\n                  dealerHandSum: localStorage.getItem('dealerHandSum'),\n                  bet: parseInt(localStorage.getItem('bet')),\n                  cash: parseInt(localStorage.getItem('cash')),\n                  name: localStorage.getItem('name'),\n                  isPlay: isPlay\n                };\n                dispatch(dataUser(setStateUser));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function onPlayHandler() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch, getState) {\n        var state, playerHand, dealerHand, playerHandSum, dealerHandSum, set_state;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = getState().playTable;\n                _context2.next = 3;\n                return [getCard(state), getCard(state)];\n\n              case 3:\n                playerHand = _context2.sent;\n                _context2.next = 6;\n                return [getCard(state)];\n\n              case 6:\n                dealerHand = _context2.sent;\n                _context2.next = 9;\n                return getSum(playerHand);\n\n              case 9:\n                playerHandSum = _context2.sent;\n                _context2.next = 12;\n                return getSum(dealerHand);\n\n              case 12:\n                dealerHandSum = _context2.sent;\n                localStorage.setItem('playerHand', JSON.stringify(playerHand));\n                localStorage.setItem('dealerHand', JSON.stringify(dealerHand));\n                localStorage.setItem('playerHandSum', playerHandSum);\n                localStorage.setItem('dealerHandSum', dealerHandSum);\n                set_state = {\n                  playerHand: playerHand,\n                  playerHandSum: playerHandSum,\n                  dealerHand: dealerHand,\n                  dealerHandSum: dealerHandSum,\n                  isPlay: false,\n                  isEnough: true,\n                  isMore: true\n                };\n                dispatch(handSuccess(set_state));\n\n                if (playerHandSum === 21) {\n                  setTimeout(function () {\n                    var cash = state.cash + state.bet * 2;\n                    var win_setState = {\n                      playerHandSum: 0,\n                      dealerHandSum: 0,\n                      bet: 0,\n                      cash: cash,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    updateData(cash);\n                    dispatch(winGame(win_setState));\n                    onDeletDib();\n                    alert('У Вас BlackJack!!!!!!!!!!!!!');\n                  }, 600);\n                } else if (playerHandSum > 21) {\n                  setTimeout(function () {\n                    var cash = state.cash;\n                    alert('Вы проиграли!!!!!!!');\n                    onDeletDib();\n                    var lose_setState = {\n                      playerHandSum: 0,\n                      bet: 0,\n                      dealerHandSum: 0,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    updateData(cash);\n                    dispatch(loseGame(lose_setState));\n                  }, 600);\n                }\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function onEnoughHandler() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch, getState) {\n        var state, dealerHand, dealerHandSum, deal_setState_first, deal_setState;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                state = getState().playTable;\n                dealerHand = state.dealerHand;\n                _context3.next = 4;\n                return dealerHand.push(getCard(state));\n\n              case 4:\n                _context3.next = 6;\n                return getSum(dealerHand);\n\n              case 6:\n                dealerHandSum = _context3.sent;\n                deal_setState_first = {\n                  dealerHand: dealerHand,\n                  dealerHandSum: dealerHandSum\n                };\n                _context3.next = 10;\n                return dispatch(dealHand(deal_setState_first));\n\n              case 10:\n                if (!(dealerHandSum < 17)) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                _context3.next = 13;\n                return dealerHand.push(getCard(state));\n\n              case 13:\n                _context3.next = 15;\n                return getSum(dealerHand);\n\n              case 15:\n                dealerHandSum = _context3.sent;\n                deal_setState = {\n                  dealerHand: dealerHand,\n                  dealerHandSum: dealerHandSum\n                };\n                _context3.next = 19;\n                return dispatch(dealHand(deal_setState));\n\n              case 19:\n                _context3.next = 10;\n                break;\n\n              case 21:\n                if (dealerHandSum === 21) {\n                  setTimeout(function () {\n                    var cash = state.cash;\n                    var lose_setState = {\n                      playerHandSum: 0,\n                      bet: 0,\n                      dealerHandSum: 0,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    dispatch(loseGame(lose_setState));\n                    onDeletDib();\n                    updateData(cash);\n                    alert('У дилера BlackJack! Вы проиграли(((((');\n                  }, 600);\n                } else if (dealerHandSum > 21 || state.playerHandSum > dealerHandSum) {\n                  setTimeout(function () {\n                    var cash = state.cash + state.bet * 2;\n                    var win_setState = {\n                      playerHandSum: 0,\n                      dealerHandSum: 0,\n                      bet: 0,\n                      cash: cash,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    dispatch(winGame(win_setState));\n                    onDeletDib();\n                    updateData(cash);\n                    alert('Вы выграли!!!!!!!!!!!!!');\n                  }, 600);\n                } else if (dealerHandSum === state.playerHandSum) {\n                  setTimeout(function () {\n                    var cash = state.cash + state.bet;\n                    var draw_setState = {\n                      playerHandSum: 0,\n                      dealerHandSum: 0,\n                      bet: 0,\n                      cash: cash,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    dispatch(drawGame(draw_setState));\n                    onDeletDib();\n                    updateData(cash);\n                    alert('Победила дружба!!!!!!!!!!!!!');\n                  }, 600);\n                } else {\n                  setTimeout(function () {\n                    var cash = state.cash;\n                    alert('Вы проиграли!!!!!!!');\n                    onDeletDib();\n                    var lose_setState = {\n                      playerHandSum: 0,\n                      bet: 0,\n                      dealerHandSum: 0,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    updateData(cash);\n                    dispatch(loseGame(lose_setState));\n                  }, 600);\n                }\n\n              case 22:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function onMoreHandler() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispatch, getState) {\n        var state, playerHand, playerHandSum, play_setState;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                state = getState().playTable;\n                playerHand = state.playerHand;\n                playerHand.push(getCard(state));\n                _context4.next = 5;\n                return getSum(playerHand);\n\n              case 5:\n                playerHandSum = _context4.sent;\n                play_setState = {\n                  playerHand: playerHand,\n                  playerHandSum: playerHandSum\n                };\n                dispatch(playHand(play_setState));\n\n                if (playerHandSum === 21) {\n                  setTimeout(function () {\n                    var cash = state.cash + state.bet * 2;\n                    var win_setState = {\n                      playerHandSum: 0,\n                      dealerHandSum: 0,\n                      bet: 0,\n                      cash: cash,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    dispatch(winGame(win_setState));\n                    onDeletDib();\n                    updateData(cash);\n                    alert('У Вас BlackJack!!!!!!!!!!!!!');\n                  }, 600);\n                } else if (playerHandSum > 21) {\n                  setTimeout(function () {\n                    var cash = state.cash;\n                    alert('Вы проиграли!!!!!!!');\n                    onDeletDib();\n                    var lose_setState = {\n                      playerHandSum: 0,\n                      bet: 0,\n                      dealerHandSum: 0,\n                      playerHand: [],\n                      dealerHand: [],\n                      isEnough: false,\n                      isMore: false\n                    };\n                    updateData(cash);\n                    dispatch(loseGame(lose_setState));\n                  }, 600);\n                }\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n}\nexport function handSuccess(set_state) {\n  return _objectSpread({\n    type: HAND_SUCCESS\n  }, set_state);\n}\nexport function dataUser(setStateUser) {\n  return _objectSpread({\n    type: DATA_USER\n  }, setStateUser);\n}\nexport function dealHand(deal_setState) {\n  return _objectSpread({\n    type: DEAL_HAND\n  }, deal_setState);\n}\nexport function playHand(play_setState) {\n  return _objectSpread({\n    type: PLAY_HAND\n  }, play_setState);\n}\nexport function winGame(win_setState) {\n  return _objectSpread({\n    type: WIN_GAME\n  }, win_setState);\n}\nexport function loseGame(lose_setState) {\n  return _objectSpread({\n    type: LOSE_GAME\n  }, lose_setState);\n}\nexport function drawGame(draw_setState) {\n  return _objectSpread({\n    type: DRAW_GAME\n  }, draw_setState);\n}\nexport function fetchPlayStart() {\n  return {\n    type: FETCH_PLAY_START\n  };\n}\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction getCard(state) {\n  return state.deck[getRandomInt(0, state.deck.length - 1)];\n}\n\nfunction getSum(hand) {\n  var sum = 0;\n\n  for (var i = 0; i < hand.length; i++) {\n    var card = hand[i];\n\n    if (card.name !== 'Ace') {\n      sum += card.value;\n    }\n  }\n\n  for (var _i = 0; _i < hand.length; _i++) {\n    var _card = hand[_i];\n\n    if (_card.name === 'Ace') {\n      if (sum > 10) {\n        sum++;\n      } else {\n        sum += _card.value;\n      }\n    }\n  }\n\n  return sum;\n}\n\nfunction onDeletDib() {\n  return document.getElementById('dibsBet').innerHTML = '';\n}\n\nfunction updateData(_x8) {\n  return _updateData.apply(this, arguments);\n}\n\nfunction _updateData() {\n  _updateData = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee5(cash) {\n    var userUpdate, dataUpdate;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            localStorage.setItem('cash', cash);\n            localStorage.setItem('bet', 0);\n            localStorage.removeItem('dibsBet');\n            userUpdate = localStorage.getItem('userId');\n            dataUpdate = {\n              userUpdate: userUpdate,\n              cash: cash //await axios.put('http://localhost:3001/playUser', dataUpdate);\n              // if(respons.data){\n              //     const setStateUser = {\n              //         cash: respons.data.bet,\n              //         name: respons.data.name\n              //     }\n              //     dispatch(dataUser(setStateUser));\n              // }\n\n            };\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n  return _updateData.apply(this, arguments);\n}","map":{"version":3,"sources":["D:\\C#\\blackjack_WebAPI - Copy\\front-end\\src\\store\\actions\\playTable.js"],"names":["FETCH_PLAY_START","FETCH_MAKE_BET","HAND_SUCCESS","WIN_GAME","LOSE_GAME","DRAW_GAME","DEAL_HAND","PLAY_HAND","DATA_USER","axios","fetchMakeBet","bet","cash","isPlay","type","getDataUser","userId","dispatch","data","localStorage","getItem","post","respons","setItem","name","parseInt","console","log","setStateUser","playerHand","JSON","parse","dealerHand","playerHandSum","dealerHandSum","dataUser","onPlayHandler","getState","state","playTable","getCard","getSum","stringify","set_state","isEnough","isMore","handSuccess","setTimeout","win_setState","updateData","winGame","onDeletDib","alert","lose_setState","loseGame","onEnoughHandler","push","deal_setState_first","dealHand","deal_setState","draw_setState","drawGame","onMoreHandler","play_setState","playHand","fetchPlayStart","getRandomInt","min","max","Math","floor","random","deck","length","hand","sum","i","card","value","document","getElementById","innerHTML","removeItem","userUpdate","dataUpdate"],"mappings":"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","sourcesContent":["import {FETCH_PLAY_START,\n        FETCH_MAKE_BET,\n        HAND_SUCCESS,\n        WIN_GAME,\n        LOSE_GAME,\n        DRAW_GAME,\n        DEAL_HAND,\n        PLAY_HAND,\n        DATA_USER} from './actionType'\n// import socketIOClient from \"socket.io-client\"\nimport axios from 'axios'\n\n\nexport function fetchMakeBet(bet, cash, isPlay){\n    return {\n        type: FETCH_MAKE_BET,\n        bet, cash, isPlay\n    }\n}\n\nexport function getDataUser(userId){\n    return async dispatch =>{\n        const data = {\n            userId: userId  \n        }\n        if(localStorage.getItem('cash') == null){\n            const respons = await axios.post('http://localhost:3001/play', data);\n            if(respons.data){                \n                localStorage.setItem('cash', respons.data.bet);\n                localStorage.setItem('bet', 0);\n                localStorage.setItem('name', respons.data.name);\n            }\n        }\n        let isPlay = parseInt(localStorage.getItem('bet')) > 0;\n        if(localStorage.getItem('playerHand') == null){\n            localStorage.setItem('playerHand', '{}');\n            localStorage.setItem('dealerHand', '{}');\n            localStorage.setItem('playerHandSum', 0);\n            localStorage.setItem('dealerHandSum', 0);\n        }\n        console.log(localStorage.getItem('playerHand'))\n        const setStateUser = {\n            playerHand: JSON.parse(localStorage.getItem('playerHand')),\n            dealerHand: JSON.parse(localStorage.getItem('dealerHand')),\n            playerHandSum: localStorage.getItem('playerHandSum'),\n            dealerHandSum: localStorage.getItem('dealerHandSum'),\n            bet: parseInt(localStorage.getItem('bet')),\n            cash: parseInt(localStorage.getItem('cash')),\n            name: localStorage.getItem('name'),\n            isPlay: isPlay\n        }\n        dispatch(dataUser(setStateUser));\n    }\n       \n}\n\nexport function onPlayHandler (){\n    return async (dispatch, getState) => {\n        const state = getState().playTable;\n        let playerHand = await [getCard(state), getCard(state)];\n        let dealerHand = await [getCard(state)];\n        let playerHandSum = await getSum(playerHand);\n        let dealerHandSum = await getSum(dealerHand);\n        \n        localStorage.setItem('playerHand', JSON.stringify(playerHand));\n        localStorage.setItem('dealerHand', JSON.stringify(dealerHand));\n        localStorage.setItem('playerHandSum', playerHandSum);\n        localStorage.setItem('dealerHandSum', dealerHandSum);\n\n        const set_state = {\n            playerHand,\n            playerHandSum,\n            dealerHand,\n            dealerHandSum,\n            isPlay: false,\n            isEnough: true,\n            isMore: true\n        };\n\n        dispatch(handSuccess(set_state));\n\n        if(playerHandSum === 21){ \n            setTimeout(()=>{\n                let cash = state.cash + state.bet*2;\n                const win_setState = {\n                    playerHandSum: 0,\n                    dealerHandSum: 0,\n                    bet: 0,\n                    cash,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                };\n                updateData(cash);\n                dispatch(winGame(win_setState)); \n                onDeletDib();  \n                alert('У Вас BlackJack!!!!!!!!!!!!!'); \n            }, 600);           \n            \n        }else if(playerHandSum > 21){\n            setTimeout(()=>{\n                let cash = state.cash;\n                alert('Вы проиграли!!!!!!!');\n                onDeletDib();\n                const lose_setState = {\n                    playerHandSum: 0,\n                    bet: 0,\n                    dealerHandSum: 0,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                };\n                updateData(cash);\n                dispatch(loseGame(lose_setState));  \n            }, 600);\n            \n        }   \n    }    \n}\n\nexport function onEnoughHandler(){\n    return async (dispatch, getState) => {\n        const state = getState().playTable;\n        let dealerHand = state.dealerHand;\n        await dealerHand.push(getCard(state));\n        let dealerHandSum = await getSum(dealerHand);\n        const deal_setState_first = {\n            dealerHand,\n            dealerHandSum\n        }\n        await dispatch(dealHand(deal_setState_first));\n        \n        while(dealerHandSum < 17){\n            await dealerHand.push(getCard(state));\n            dealerHandSum = await getSum(dealerHand);\n            const deal_setState = {\n                dealerHand,\n                dealerHandSum\n            }\n            await dispatch(dealHand(deal_setState));\n        }\n\n        if(dealerHandSum === 21){\n            setTimeout(()=>{\n                let cash = state.cash;\n                const lose_setState = {\n                    playerHandSum: 0,\n                    bet: 0,\n                    dealerHandSum: 0,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                }; \n                dispatch(loseGame(lose_setState));\n                onDeletDib(); \n                updateData(cash); \n                alert('У дилера BlackJack! Вы проиграли((((('); \n            }, 600); \n        }else if(dealerHandSum > 21 || state.playerHandSum > dealerHandSum){\n            setTimeout(()=>{\n                let cash = state.cash + state.bet*2;\n                const win_setState = {\n                    playerHandSum: 0,\n                    dealerHandSum: 0,\n                    bet: 0,\n                    cash,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                }; \n                dispatch(winGame(win_setState));\n                onDeletDib();  \n                updateData(cash);\n                alert('Вы выграли!!!!!!!!!!!!!'); \n            }, 600);        \n        }else if(dealerHandSum === state.playerHandSum){\n            setTimeout(()=>{\n                let cash = state.cash + state.bet;\n                const draw_setState = {\n                    playerHandSum: 0,\n                    dealerHandSum: 0,\n                    bet: 0,\n                    cash,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                }; \n                dispatch(drawGame(draw_setState));\n                onDeletDib();  \n                updateData(cash);\n                alert('Победила дружба!!!!!!!!!!!!!'); \n            }, 600); \n        }else{\n            setTimeout(()=>{\n                let cash = state.cash;\n                alert('Вы проиграли!!!!!!!');\n                onDeletDib();\n                const lose_setState = {\n                    playerHandSum: 0,\n                    bet: 0,\n                    dealerHandSum: 0,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                };\n                updateData(cash);\n                dispatch(loseGame(lose_setState));\n            }, 600);\n        }\n        \n    }\n}\n\nexport function onMoreHandler(){\n    return async (dispatch, getState) =>{\n        const state = getState().playTable;\n        let playerHand = state.playerHand;\n        playerHand.push(getCard(state));\n        let playerHandSum = await getSum(playerHand);\n        const play_setState = {\n            playerHand,\n            playerHandSum\n        }\n\n        dispatch(playHand(play_setState));\n\n\n        if(playerHandSum === 21){ \n            setTimeout(()=>{\n                let cash = state.cash + state.bet*2;\n                const win_setState = {\n                    playerHandSum: 0,\n                    dealerHandSum: 0,\n                    bet: 0,\n                    cash,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                };\n                dispatch(winGame(win_setState));\n                onDeletDib();  \n                updateData(cash);\n                alert('У Вас BlackJack!!!!!!!!!!!!!'); \n            }, 600);           \n            \n        }else if(playerHandSum > 21){\n            setTimeout(()=>{\n                let cash = state.cash\n                alert('Вы проиграли!!!!!!!');\n                onDeletDib();\n                const lose_setState = {\n                    playerHandSum: 0,\n                    bet: 0,\n                    dealerHandSum: 0,\n                    playerHand:[],\n                    dealerHand:[],\n                    isEnough: false,\n                    isMore: false\n                };\n                updateData(cash);\n                dispatch(loseGame(lose_setState));  \n            }, 600);\n            \n        } \n    }\n}\n\nexport function handSuccess(set_state){\n    return{\n        type: HAND_SUCCESS,\n        ...set_state\n    }\n}\n\nexport function dataUser(setStateUser){\n    return{\n        type: DATA_USER,\n        ...setStateUser\n    }\n}\n\nexport function dealHand(deal_setState){\n    return{\n        type: DEAL_HAND,\n        ...deal_setState\n    }\n}\n\nexport function playHand(play_setState){\n    return{\n        type: PLAY_HAND,\n        ...play_setState\n    }\n}\n\nexport function winGame(win_setState){\n    return{\n        type: WIN_GAME,\n        ...win_setState\n    }\n}\n\nexport function loseGame(lose_setState){\n    return{\n        type: LOSE_GAME,\n        ...lose_setState\n    }\n}\n\nexport function drawGame(draw_setState){\n    return{\n        type: DRAW_GAME,\n        ...draw_setState\n    }\n}\n\nexport function fetchPlayStart(){\n    return{\n        type: FETCH_PLAY_START\n    }\n}\n\nfunction getRandomInt(min, max) {\n    return Math.floor(Math.random()*(max-min+1)+min);\n}\n\nfunction getCard(state){\n    return state.deck[getRandomInt(0, state.deck.length - 1)];\n}\n\nfunction getSum (hand){\n    let sum = 0;\n\n    for( let i=0; i<hand.length; i++){\n        let card = hand[i];\n        if(card.name !== 'Ace'){\n            sum += card.value;\n        }\n    }\n\n    for(let i=0; i<hand.length; i++){\n        let card = hand[i];\n        if(card.name === 'Ace'){\n            if(sum > 10){\n                sum ++;\n            }else{\n                sum += card.value;\n            }\n        }\n    }\n\n    return sum;\n}\n\nfunction onDeletDib() {\n    return document.getElementById('dibsBet').innerHTML='';\n}\n\n\nasync function updateData(cash){\n    localStorage.setItem('cash', cash);\n    localStorage.setItem('bet', 0);\n    localStorage.removeItem('dibsBet');\n    const userUpdate = localStorage.getItem('userId');\n    const dataUpdate ={\n        userUpdate, cash\n    }\n    //await axios.put('http://localhost:3001/playUser', dataUpdate);\n    // if(respons.data){\n    //     const setStateUser = {\n    //         cash: respons.data.bet,\n    //         name: respons.data.name\n    //     }\n    //     dispatch(dataUser(setStateUser));\n    // }\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}