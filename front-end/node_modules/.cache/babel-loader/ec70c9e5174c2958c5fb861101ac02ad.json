{"ast":null,"code":"import _objectSpread from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\C#\\\\blackjack_WebAPI - Copy\\\\front-end\\\\src\\\\containers\\\\Registration\\\\Registration.js\";\nimport React, { Component } from 'react';\nimport classes from './Registration.css';\nimport Input from '../../components/UI/Input/Input';\nimport Button from '../../components/UI/Button/Button';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport is from 'is_js';\nimport axios from 'axios';\n\nvar Registration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Registration, _Component);\n\n  function Registration() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Registration);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Registration)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isRegistr: false,\n      isFormValid: false,\n      formControls: {\n        name: {\n          value: '',\n          type: 'text',\n          label: 'Имя',\n          errorMessage: 'Введите корректный имя',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            minLength: 3\n          }\n        },\n        email: {\n          value: '',\n          type: 'email',\n          label: 'Email',\n          errorMessage: 'Введите корректный email',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            email: true\n          }\n        },\n        password: {\n          value: '',\n          type: 'password',\n          label: 'Пароль',\n          errorMessage: 'Введите корректный пароль',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            minLength: 6\n          }\n        },\n        passwordRepeat: {\n          value: '',\n          type: 'password',\n          label: 'Повторить пароль',\n          errorMessage: 'Пароль не совпадает',\n          valid: false,\n          touched: false,\n          validation: {\n            required: true,\n            minLength: 6\n          }\n        }\n      }\n    };\n    _this.registerHandler =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var dataAuth, respons;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return {\n                name: _this.state.formControls.name.value,\n                email: _this.state.formControls.email.value,\n                password: _this.state.formControls.password.value\n              };\n\n            case 2:\n              dataAuth = _context.sent;\n              console.log(dataAuth);\n              _context.next = 6;\n              return axios.post('http://localhost:3001/registration', dataAuth);\n\n            case 6:\n              respons = _context.sent;\n              console.log(respons.data);\n\n              if (respons.data) {\n                _this.setState({\n                  isRegistr: true\n                });\n\n                alert('Пользиватель создан');\n              } else {\n                alert('Такой email уже существует');\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.submitHandler = function (event) {\n      event.preventDefault();\n    };\n\n    _this.onChangeHandler = function (event, controlName) {\n      var formControls = _objectSpread({}, _this.state.formControls);\n\n      var control = _objectSpread({}, formControls[controlName]);\n\n      control.value = event.target.value;\n      control.touched = true;\n      control.valid = _this.validateControl(control.value, control.validation, controlName);\n      formControls[controlName] = control;\n      var isFormValid = true;\n      Object.keys(formControls).forEach(function (name) {\n        isFormValid = formControls[name].valid && isFormValid;\n      });\n\n      _this.setState({\n        formControls: formControls,\n        isFormValid: isFormValid\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Registration, [{\n    key: \"validateControl\",\n    value: function validateControl(value, validation, controlName) {\n      if (!validation) {\n        return true;\n      }\n\n      var isValid = true;\n\n      if (validation.required) {\n        isValid = value.trim() !== '' && isValid;\n      }\n\n      if (validation.email) {\n        isValid = is.email(value) && isValid;\n      }\n\n      if (validation.minLength) {\n        isValid = value.length >= validation.minLength && isValid;\n      }\n\n      if (controlName === 'passwordRepeat') {\n        var password = this.state.formControls.password.value;\n        isValid = value === password && isValid;\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"renderInputs\",\n    value: function renderInputs() {\n      var _this2 = this;\n\n      return Object.keys(this.state.formControls).map(function (controlName, index) {\n        var control = _this2.state.formControls[controlName];\n        return React.createElement(Input, {\n          key: controlName + index,\n          type: control.type,\n          value: control.value,\n          valid: control.valid,\n          touched: control.touched,\n          label: control.label,\n          shouldValidate: !!control.validation,\n          errorMessage: control.errorMessage,\n          onChange: function onChange(event) {\n            return _this2.onChangeHandler(event, controlName);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isRegistr) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          path: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: classes.Registration,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          onSubmit: this.submitHandler,\n          className: classes.RegistrationForm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, this.renderInputs(), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }), React.createElement(NavLink, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\")), React.createElement(Button, {\n          type: \"primary\",\n          onClick: this.registerHandler,\n          disabled: !this.state.isFormValid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"))));\n      }\n    }\n  }]);\n\n  return Registration;\n}(Component);\n\nexport default Registration;","map":{"version":3,"sources":["D:\\C#\\blackjack_WebAPI - Copy\\front-end\\src\\containers\\Registration\\Registration.js"],"names":["React","Component","classes","Input","Button","NavLink","Redirect","is","axios","Registration","state","isRegistr","isFormValid","formControls","name","value","type","label","errorMessage","valid","touched","validation","required","minLength","email","password","passwordRepeat","registerHandler","dataAuth","console","log","post","respons","data","setState","alert","submitHandler","event","preventDefault","onChangeHandler","controlName","control","target","validateControl","Object","keys","forEach","isValid","trim","length","map","index","RegistrationForm","renderInputs"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport classes from './Registration.css'\nimport Input from '../../components/UI/Input/Input'\nimport Button from '../../components/UI/Button/Button'\nimport {NavLink, Redirect } from 'react-router-dom'\nimport is from 'is_js'\nimport axios from 'axios';\n\nclass Registration extends Component{\n\n    state = {\n\t\tisRegistr: false,\n\t\tisFormValid: false,\n\t\tformControls:{\n            name:{\n\t\t\t\tvalue: '',\n\t\t\t\ttype: 'text',\n\t\t\t\tlabel: 'Имя',\n\t\t\t\terrorMessage: 'Введите корректный имя',\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t\tvalidation:{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminLength: 3\n\t\t\t\t}\n\t\t\t},\n\t\t\temail:{\n\t\t\t\tvalue: '',\n\t\t\t\ttype: 'email',\n\t\t\t\tlabel: 'Email',\n\t\t\t\terrorMessage: 'Введите корректный email',\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t\tvalidation:{\n\t\t\t\t\trequired: true,\n\t\t\t\t\temail: true\n\t\t\t\t}\n\t\t\t},\n\t\t\tpassword: {\n\t\t\t\tvalue: '',\n\t\t\t\ttype: 'password',\n\t\t\t\tlabel: 'Пароль',\n\t\t\t\terrorMessage: 'Введите корректный пароль',\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t\tvalidation:{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminLength: 6\n\t\t\t\t}\n            },\n            passwordRepeat: {\n\t\t\t\tvalue: '',\n\t\t\t\ttype: 'password',\n\t\t\t\tlabel: 'Повторить пароль',\n\t\t\t\terrorMessage: 'Пароль не совпадает',\n\t\t\t\tvalid: false,\n\t\t\t\ttouched: false,\n\t\t\t\tvalidation:{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminLength: 6\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tregisterHandler = async () =>{\n\t\tconst dataAuth = await {\n\t\t\tname: this.state.formControls.name.value,\n\t\t\temail: this.state.formControls.email.value,\n\t\t\tpassword: this.state.formControls.password.value\n\t\t};\n\n\t\tconsole.log(dataAuth);\n\t\t\t\t\n\t\tconst respons = await axios.post('http://localhost:3001/registration', dataAuth);\n\t\tconsole.log(respons.data);\n\t\tif(respons.data){\n\t\t\tthis.setState({\n\t\t\t\tisRegistr: true\n\t\t\t});\n\t\t\talert('Пользиватель создан');\n\t\t}else{\n\t\t\talert('Такой email уже существует');\n\t\t}\n\t}\n\n\tsubmitHandler = event =>{\n\t\tevent.preventDefault();\n\t}\n\n\tvalidateControl(value, validation, controlName){\n\t\tif(!validation){\n\t\t\treturn true\n\t\t}\n\t\t\n\t\tlet isValid = true;\n\n\t\tif(validation.required){\n\t\t\tisValid = value.trim() !== '' && isValid\n\t\t}\n\n\t\tif(validation.email){\n\t\t\tisValid = is.email(value) && isValid\n\t\t}\n\n\t\tif(validation.minLength){\n\t\t\tisValid = value.length >= validation.minLength && isValid \n\t\t}\n\n\t\tif(controlName === 'passwordRepeat'){\n\t\t\tlet password = this.state.formControls.password.value\n\t\t\tisValid = value === password && isValid\n\t\t}\n\n\t\treturn isValid\n\t}\n\n\n\tonChangeHandler = (event, controlName)=>{\n\t\tconst formControls = {...this.state.formControls}\n\t\tconst control = {...formControls[controlName]}\n\n\t\tcontrol.value = event.target.value\n\t\tcontrol.touched = true\n\t\tcontrol.valid = this.validateControl(control.value, control.validation, controlName)\n\n\t\tformControls[controlName] = control\n\n\t\tlet isFormValid = true;\n\n\t\tObject.keys(formControls).forEach(name=>{\n\t\t\tisFormValid = formControls[name].valid && isFormValid\n\t\t})\n\n\t\tthis.setState({\n\t\t\tformControls, isFormValid\n\t\t})\n\t}\n\n    renderInputs(){\n\t\treturn Object.keys(this.state.formControls).map((controlName, index)=>{\n\t\t\tconst control = this.state.formControls[controlName]\n\t\t\treturn(\n\t\t\t\t<Input \n\t\t\t\t\tkey={controlName+index}\n\t\t\t\t\ttype={control.type}\n\t\t\t\t\tvalue={control.value}\n\t\t\t\t\tvalid={control.valid}\n\t\t\t\t\ttouched={control.touched}\n\t\t\t\t\tlabel={control.label}\n\t\t\t\t\tshouldValidate={!!control.validation}\n\t\t\t\t\terrorMessage={control.errorMessage}\n\t\t\t\t\tonChange={event=>this.onChangeHandler(event, controlName)}\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\t}\n\n    render(){\n\t\tif(this.state.isRegistr){\n\t\t\treturn (<Redirect to='/' path/>)\n\t\t}else{\n\t\t\treturn(\n\t\t\t\t<div className={classes.Registration} >\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<form onSubmit={this.submitHandler} className={classes.RegistrationForm}>\n\t\t\t\t\t\t\t{this.renderInputs()}\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<NavLink to='/'>\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\ttype=\"success\" \t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t>Назад</Button>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\ttype=\"primary\" \n\t\t\t\t\t\t\t\tonClick={this.registerHandler}\n\t\t\t\t\t\t\t\tdisabled={!this.state.isFormValid}\n\t\t\t\t\t\t\t>Зарегистрироваться</Button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default Registration"]},"metadata":{},"sourceType":"module"}